---
title: "Spending Insights"
description: "Get detailed spending analytics and insights"
---

# Spending Insights

Retrieve detailed spending analytics and insights for cards and transactions.

## GET /api/analytics/spending

Get comprehensive spending analytics with categorization and trends.

<ParamField header="Authorization" type="string" required>
  Bearer authentication header of the form Bearer &lt;token&gt;, where &lt;token&gt; is your auth token.
</ParamField>

<ParamField query="period" type="string" default="30d">
  Time period: `7d`, `30d`, `90d`, `1y`, `custom`
</ParamField>

<ParamField query="dateFrom" type="string" optional>
  Start date for custom period (ISO 8601 format)
</ParamField>

<ParamField query="dateTo" type="string" optional>
  End date for custom period (ISO 8601 format)
</ParamField>

<ParamField query="cardId" type="string" optional>
  Filter by specific card ID
</ParamField>

<ParamField query="currency" type="string" default="USD">
  Currency for analytics: `USD`, `EUR`, `GBP`
</ParamField>

<ResponseExample>
```json Response
{
  "summary": {
    "totalSpent": 3456.78,
    "transactionCount": 89,
    "averageTransaction": 38.84,
    "currency": "USD",
    "period": "30d",
    "dateRange": {
      "from": "2024-01-01T00:00:00Z",
      "to": "2024-01-30T23:59:59Z"
    }
  },
  "categoryBreakdown": [
    {
      "category": "food_and_beverage",
      "name": "Food & Beverage",
      "amount": 845.32,
      "percentage": 24.46,
      "transactionCount": 28,
      "averageTransaction": 30.19
    },
    {
      "category": "transportation",
      "name": "Transportation", 
      "amount": 567.89,
      "percentage": 16.43,
      "transactionCount": 12,
      "averageTransaction": 47.32
    },
    {
      "category": "retail",
      "name": "Retail & Shopping",
      "amount": 1234.56,
      "percentage": 35.73,
      "transactionCount": 15,
      "averageTransaction": 82.30
    }
  ],
  "dailySpending": [
    {
      "date": "2024-01-15",
      "amount": 127.45,
      "transactionCount": 4
    },
    {
      "date": "2024-01-16", 
      "amount": 89.12,
      "transactionCount": 3
    }
  ],
  "topMerchants": [
    {
      "name": "Coffee Shop Downtown",
      "category": "food_and_beverage",
      "amount": 156.78,
      "transactionCount": 12,
      "lastTransaction": "2024-01-29T08:15:00Z"
    },
    {
      "name": "Metro Transit",
      "category": "transportation",
      "amount": 234.50,
      "transactionCount": 8,
      "lastTransaction": "2024-01-30T17:30:00Z"
    }
  ],
  "trends": {
    "weekOverWeek": {
      "percentageChange": 15.3,
      "direction": "increase",
      "currentWeek": 456.78,
      "previousWeek": 395.42
    },
    "monthOverMonth": {
      "percentageChange": -8.7,
      "direction": "decrease", 
      "currentMonth": 3456.78,
      "previousMonth": 3789.23
    }
  },
  "recommendations": [
    {
      "type": "savings",
      "message": "You spent 23% more on food this month. Consider setting a budget.",
      "category": "food_and_beverage"
    },
    {
      "type": "insight",
      "message": "Your transportation costs decreased by 15% this month.",
      "category": "transportation"
    }
  ]
}
```
</ResponseExample>

<RequestExample>
```bash cURL
curl --request GET \
  --url 'https://api.entrofinance.com/api/analytics/spending?period=30d&currency=USD' \
  --header 'Authorization: Bearer sk_live_...'
```

```javascript JavaScript
const response = await fetch('https://api.entrofinance.com/api/analytics/spending?period=30d&currency=USD', {
  headers: {
    'Authorization': 'Bearer sk_live_...',
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
```

```python Python
import requests

response = requests.get(
    'https://api.entrofinance.com/api/analytics/spending',
    headers={
        'Authorization': 'Bearer sk_live_...',
        'Content-Type': 'application/json'
    },
    params={
        'period': '30d',
        'currency': 'USD'
    }
)

data = response.json()
```
</RequestExample>

## Spending Categories

| Category | Description |
|----------|-------------|
| `food_and_beverage` | Restaurants, cafes, grocery stores |
| `transportation` | Transit, rideshare, fuel, parking |
| `retail` | Shopping, clothing, electronics |
| `entertainment` | Movies, games, subscriptions |
| `health` | Medical, pharmacy, fitness |
| `utilities` | Bills, internet, mobile |
| `travel` | Hotels, flights, accommodation |
| `other` | Uncategorized transactions |